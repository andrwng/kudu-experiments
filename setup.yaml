# The base opts.
base_opts:
  # Local path to find /www.
  kudu_home: "/data/8/awong/Repositories/kudu"

  # Local path to find kudu-tserver, kudu-master, and kudu binaries.
  kudu_sbin_dir: "/data/8/awong/Repositories/kudu/build/release/bin"

  # The interval at which metrics are polled from Kudu.
  metrics_interval_secs: "30"

  # Path to scripts to run as the workload.
  # Each workload will be run.
  workloads:
    sequential:
      max_execution_time: "4800"
      script: "sequential_insert.sh"
    random:
      max_execution_time: "4800"
      script: "random_insert.sh"

# Each machine is set up before running any scripts to load them with the
# appropiate binaries and setup with the appropriate scripts.
hosts:
  ec2-xl:
    address: "35.160.54.43"
    setup_script: "install_prereqs_cen7.sh"
    bin_dir: "/data/bin"
    bin_files:
      - "kudu-master"
      - "kudu-tserver"
      - "kudu"

  ec2-efs:
    address: "35.160.54.43"
    setup_script: "install_prereqs_cen7_efs.sh"
    bin_dir: "/data/bin"
    bin_files:
      - "kudu-master"
      - "kudu-tserver"
      - "kudu"

clusters:
  ec2-efs:
    tservers:
      hosts:
        # Must be an entry in `hosts`.
        - "ec2-efs"
      dir_flags:
        fs_wal_dir: "/data/efs/tserver-wal"
        fs_metadata_dir: "/data/efs/tserver-meta"
        fs_data_dirs: "/mnte/tserver-data"
        log_dir: "/mnte/tserver-logs"
    masters:
      hosts:
        - "ec2-efs"
      dir_flags:
        fs_wal_dir: "/mnte/master-wal"
        fs_metadata_dir: "/mnte/master-meta"
        fs_data_dirs: "/mnte/master-data"
        log_dir: "/mnte/master-logs"

  ec2-ephemeral:
    tservers:
      hosts:
        - "ec2-xl"
      dir_flags:
        fs_wal_dir: "/mntd/tserver-wal"
        fs_metadata_dir: "/mntd/tserver-meta"
        fs_data_dirs: "/mntd/tserver-data"
        log_dir: "/mntd/tserver-logs"
    masters:
      hosts:
        - "ec2-xl"
      dir_flags:
        fs_wal_dir: "/mntd/master-wal"
        fs_metadata_dir: "/mntd/master-meta"
        fs_data_dirs: "/mntd/master-data"
        log_dir: "/mntd/master-logs"

  medium-machine:
    masters:
      hosts:
        - "medium"
      dir_flags:
        fs_wal_dir: "/data/master-wal"
        fs_metadata_dir: "/data/master-meta"
        fs_data_dirs: "/data/master-data"
        log_dir: "/data/master-logs"

    tservers:
      hosts:
        - "ec2-ephemeral"
      dir_flags:
        fs_wal_dir: "/home/ec2-user/efs/tserver-wal"
        fs_metadata_dir: "/data/tserver-meta"
        fs_data_dirs: "/data/tserver-data"
        log_dir: "/data/tserver-logs"
